{% load static %}
<!DOCTYPE html>
<html>

<head>

  <meta charset="ISO-8859-1">
  <title>See the profile</title>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
  <!-- Google Fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
  <!-- Bootstrap core CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <!-- JQuery -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" rel="stylesheet">
  <link class="jsbin" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/base/jquery-ui.css" rel="stylesheet"
    type="text/css" />
  <script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
  <script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.0/jquery-ui.min.js"></script>
  <!-- My Css -->

  <link rel="stylesheet" type="text/css" href="{% static 'css/uditha.css' %}">


</head>

<body>

  <nav class="nav">
    <div class="container">

      <div id="mainListDiv" class="main_list">
        <ul class="navlinks">
          <li><a href="#">Home</a></li>
          <li><a href="#">Sign in</a></li>
          <li><a href="#">Reservations</a></li>
          <li><a href="#">About us</a></li>
          <li><a href="#">Logout</a></li>
        </ul>
      </div>
      <span class="navTrigger">
        <i></i>
        <i></i>
        <i></i>
      </span>
    </div>
  </nav>

  <div class="head3">
    <h3></h3>
  </div>

  <svg class="viewbox2" viewBox="0 0 633.183 627.287">
    <linearGradient id="Path_3_j" spreadMethod="pad" x1="0.104" x2="0.782" y1="-0.293" y2="1.082">
      <path id="Path_3_j"
        d="M 17.1486988067627 0 L 243.2478942871094 0 L 616.0341186523438 0 C 625.5049438476563 0 633.1828002929688 7.851606369018555 633.1828002929688 17.53705596923828 L 633.1828002929688 609.7499389648438 C 633.1828002929688 619.4353637695313 625.5049438476563 627.2869873046875 616.0341186523438 627.2869873046875 L 17.1486988067627 627.2869873046875 C 7.677733898162842 627.2869873046875 0 619.4353637695313 0 609.7499389648438 L 0 17.53705596923828 C 0 7.851606369018555 7.677733898162842 0 17.1486988067627 0 Z">
      </path>
      <stop offset="0" stop-color="#f4f5f5" stop-opacity="1"></stop>
      <stop offset="1" stop-color="#f1e6f1" stop-opacity="0"></stop>
    </linearGradient>
  </svg>



  <img id="logo_2" img src="{% static 'images/logo.jpg' %}">



  <div id="Voltage_Entertainment2">
    <span>Voltage Entertainment</span>
  </div>

  <div class="h4">
    <h4>Upload sample video</h4>
  </div>


  <br><br>
  <!-- Grid row -->
  <div class="row">

    <!-- Grid column -->
    <div class="col-lg-10 col-xl-8">



      {% for vid in videography %}

      <form method="POST" action="{% url 'UpdateVideoGrapher'%}" enctype="multipart/form-data">
        {% csrf_token %}


        <div class="upload">
          <div class="media d-block d-md-flex">
            <img src="\media\{{vid.profile_pic}}" id="vidprofilepic" width="140px" height="140px"
              style="border-radius:50%" alt="Avatar">
            <div class="media-body text-center text-md-left ml-md-3 ml-0">

              <span><i class="fas fa-cloud-upload-alt mr-2"></i>Choose files</span>
              <input type="file" onchange="readURL(this);" id="profile_pic" name="profile_pic">

            </div>
            <input type="text" name="id" id="idonupdate" value={{vid.id}}><br><br>
            {% comment %} <input type="text" name="id" id="idonupdate" value={{vid.id|slice:"5:" }}><br><br>
            {% endcomment %}



            <div class="media d-block d-md-flex">
              <img class="d-flex rounded-circle avatar z-depth-1-half mb-3 mx-auto" src="\media\{{vid.profile_pic}}"
                id="vidprofilepic" width="140px" height="140px" style="border-radius:50%" alt="Avatar">
              <div class="media-body text-center text-md-left ml-md-3 ml-0">


                <input type="text" name="id" id="idonupdate" value={{vid.id }}><br><br>

                <div class="vidDetails">
                  {% for res in resources %}
                  <div class="showStatus">
                    <input type="text" id="setStatus" style="color:cyan;" value="{{res.Status}}" name="status"
                      class="form-control">
                  </div>
                  <div class="updateStatus">
                    <label class="switch">
                      <input type="checkbox" id="status">
                      <span class="slider round"></span>
                    </label>
                  </div>
                  {% endfor %}

                  <div class="md-form">
                    <input type="text" name="Name" id="name" value="{{vid.Name}}" class="form-control">
                    <label for="form1">Name</label>
                  </div>
                  <div class="md-form">
                    <input type="text" Name="fee" id="form1" value="{{vid.Fee}}" class="form-control">
                    <label for="form1">Reservation fee</label>
                  </div>
                  <br>
                  <div class="md-form">
                    <textarea id="form7" name="description" class="md-textarea form-control"
                      rows="3">{{vid.Description}}</textarea>
                    <label for="form7">Description</label>
                  </div>

                </div>

                <div class="contact">
                  <div class="md-form">
                    <input type="text" id="form1" name="Contact" value="{{vid.Contact}}" class="form-control">
                    <label for="form1">Contact</label>
                  </div>
                  <div class="md-form">
                    <input type="text" id="form1" name="ContactEmail" value="{{vid.ContactEmail}}" class="form-control">
                    <label for="form1">Email</label>
                  </div>
                </div>

                {% for res in resources %}
                <input type="text" id="setStatus" value="{{res.Status}}" name="status" class="form-control">
                <div class="Status">
                  <label class="switch">
                    <input type="checkbox" id="status">
                    <span class="slider round"></span>
                  </label>
                </div>
                {% endfor %}



                {% for sam in video_samples %}
                <div class="vid1">
                  <video id="vid" src="\media\{{sam.Samples}}" width="520" height="450" autoplay loop controls muted
                    autoplay alt="video" />
                  </video>
                  <input type="file" id="sample" name="sample" onchange="readVideoURL(this);">
                </div>


                <input class="myButton" id="update" input type="submit" value="Update" name="submit">

      </form>
      <input class="myButton" onclick="location.href='{% url 'RemoveVideoGrapher' id=vid.id %}'" id="delete"
        value="Delete" </button>

      {% endfor %}

      {% endfor %}


    </div>
    <!-- Grid column -->

  </div>
  <!-- Grid row -->



  <script>
    function readURL(input) {
      if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
          $('#vidprofilepic')
            .attr('src', e.target.result)
            .width(150)
            .height(150);
        };

        reader.readAsDataURL(input.files[0]);
      }
    }

  </script>



  <script>
    function readVideoURL(input) {
      if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
          $('#vid')
            .attr('src', e.target.result)
            .width(520)
            .height(450);
        };

        reader.readAsDataURL(input.files[0]);
      }
    }

  </script>




  <script>

    $('input[type=checkbox]').click(function () {
      if ($('input[type=checkbox]').is(':checked')) {
        $('#setStatus').val('In');
      }
      else {
        $('#setStatus').val('Out');
      }
    });
  </script>

  <script>

    var input = $('#setStatus').val()

    if (input === "In") {
      $("#status").prop('checked', true);
    }
  </script>



</body>

</html>